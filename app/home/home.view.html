<body ng-controller="HomeController as home">
<div id='container' class='container navbar navbar-default'>
	<div class='row bg-info text-primary'>
		<div class='col-md-2'>
			<a class='nav navbar-brand'><b>ForumApp</b></a>
		</div>
		<ul class='list-unstyled list-inline nav navbar-nav navbar-right'>
			<li><a class='nav navbar-nav navbar-brand' ng-click='vm.doLogout()'>Logout</a></li>
		</ul>
	</div>
	
	<div class='row well well-lg'>
		<div class='row right'>
			<a name='createTopic' id='createTopic' href="#/createTopic" class='btn btn-primary btn-md pull-right'>Create Topic</a>
		</div>
		</br>
		<div id="topicList" ng-repeat="topic in vm.topics">

			<!-- var topicI="topic-"+i; -->
			<div id='{{topic.id}}' class='row well well-lg marginTopics'>
				<label class='row well strong lead col-md-12 large bg-faded text-primary marginContents' id='title-topic-{{topic.id}}'>{{topic.title}}</label>
				</br><label class='row well col-md-12 medium marginContents' id='description'><label class='small text-info'>Description:</label></br> {{topic.description}}</label>
				</br><label class='small text-warning' id='upvoteLblVar'>{{topic.upVoteCount}} UpVotes</label>
				&nbsp&nbsp&nbsp&nbsp&nbsp<label class='small text-warning' id='downvoteLblVar'>{{topic.downVoteCount}} DownVotes
				</label>
				&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<label class='small' id='createdBy'><label class='text-muted'>Created By: 
				</label> {{topic.createdBy}}</label>
				&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<label class='small' id='createdAt'><label class='text-muted'>Created At: 
				</label> {{topic.createdAt | toDateObj | date: 'HH:mm:ss d,MMM,yyyy'}} </label>
				</br>&nbsp&nbsp<button class='btn btn-xs' id='upvoteBtnVar' name='upvoteBtnVar' ng-model='vm.topic.upVoteCount' ng-click='vm.syncVotesFunc(topic,"1")'>
				<img class='upvote-img' id='upvote'></img></button>
				&nbsp&nbsp<button class='btn btn-xs' id='downvoteBtnVar' name='downvoteBtnVar' ng-model='vm.topic.downVoteCount' ng-click='vm.syncVotesFunc(topic,"2")'>
				<img class='downvote-img' id='downvote'></img></button>
				<input type='hidden' class='small' id='oldVoteValue-{{topic.id}}' ng-model='vm.topic.oldVoteValue' />

				<div id='commentList-{{topic.id}}' class='marginRow' ng-repeat="comment in topic.commentList">
					<div class='row well marginRow'>
						<label class='col-md-offset-0 col-md-1 small' id='commentCreatedBy-{{topic.id}}-{{comment.id}}'>{{comment.createdBy}}</label>
						&nbsp&nbsp&nbsp&nbsp<input class='small col-md-7 bg-success' readonly='true' id='commentValue-{{topic.id}}-{{comment.id}}' 
						value='{{comment.value}}'></input>
						<label class='small' id='commentCreatedAt-{{topic.id}}-{{comment.id}}'>{{comment.createdAt | toDateObj | date: 'HH:mm:ss d,MMM,yyyy' }}</label>
					</div>
				</div>

				<form name='commentForm' ng-submit="vm.addComment(topic)">
					<div class='row well marginRow'>
						<label class='col-md-offset-0 col-md-1 small' id='commentCreatedBy' ng-model='vm.comment.createdBy'>{{vm.user}}</label>
						<input type='hidden' class='small' id='commentCreatedAt' />
						&nbsp&nbsp&nbsp&nbsp<input class='small col-md-7 bg-success' id='commentValue' 
						value='' ng-model='vm.comment.value'></input>
						<input type="submit" value="Add" class="btn btn-info btn-xs" />
					</div>
				</form>

			</div>

		</div>

		<!-- <div id="userIdDiv">
			<input type='hidden' id='userName' name='userName' value='swapnil'></input>
			<input type='hidden' id='userId' name='userId' value='6'></input>
			<input type='hidden' id='emailId' name='emailId' value='swapnil.solanki@townscript.com'></input>
		</div> -->
	</div>
	
</div>
</body>
